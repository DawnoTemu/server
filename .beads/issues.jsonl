{"id":"server-1","title":"Handle voice-service delete failures","description":"Account deletion ignores the (success, message) tuple returned by VoiceService.delete_voice. If the helper returns (False, \u003cerror\u003e) we still drop local Voice rows and report success, leaving orphaned vendor assets. Update models/user_model.py to inspect the result, surface warnings, and retry/fail when the remote delete fails.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-10-14T09:39:35.737874+02:00","updated_at":"2025-10-14T10:29:56.415176+02:00","closed_at":"2025-10-14T10:29:56.415176+02:00"}
{"id":"server-2","title":"Guard against stale voice allocation state","description":"Concurrent calls to ensure_active_voice in utils/voice_slot_manager.py operate on stale SQLAlchemy instances; request A setting allocation_status=ALLOCATING is not visible to request B, which still observes RECORDED and re-queues allocation. Re-fetch or lock the row (or otherwise synchronize) before scheduling allocation to prevent duplicated slot usage.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-14T09:51:45.033316+02:00","updated_at":"2025-10-14T10:30:03.028872+02:00","closed_at":"2025-10-14T10:30:03.028872+02:00"}
{"id":"server-3","title":"Respect provider-specific slot capacity in queue","description":"process_voice_queue currently calls VoiceModel.available_slot_capacity() with no provider, so capacity is computed across all ready voices. When one provider hits capacity it blocks others (e.g., Cartesia ready voices consume slots for ElevenLabs). Update tasks/voice_tasks.py to determine the queued voice's provider and call available_slot_capacity(provider) before dispatching.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-14T10:00:00.941398+02:00","updated_at":"2025-10-14T10:30:09.788051+02:00","closed_at":"2025-10-14T10:30:09.788051+02:00"}
{"id":"server-4","title":"Stop passing unsupported service_provider kwarg","description":"VoiceSlotManager.enqueue passes service_provider to allocate_voice_slot, but the Celery task signature does not accept it, causing TypeError and blocking allocation. Update tasks/voice_tasks.allocate_voice_slot to accept the keyword (and use it) or strip it before dispatch.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-10-14T11:02:43.322543+02:00","updated_at":"2025-10-14T11:03:47.560891+02:00","closed_at":"2025-10-14T11:03:47.560891+02:00"}
